variable loco string /home/jinzhen/projects/SCEMa/examples/test1/nanoscale_log/tmp/1-1.8.0_1
variable tempt equal 0.010000
# This file is for a LAMMPS simulation created by James Suter
# The system is polyethane, using the CVFF forcefield
# the simulation will heat up to 500K, cooldown to 200K and then perform unixial stretching in the x direction

##  This script should be just run once at the beginning to provide the initial
##  reference testing box, which will the be evolved using the in.lammps.strain
##  input file.

## Should we optimize the lammps call depending on the computer setup?
## suffix OMP

#  Setting units convention for the rest of the file
units           real            # default

#  Setting variables/attributes associated with each atom: charge, bonds, angles,
#  dihedrals, impropers (full)
atom_style      full

#  Setting the dimension of the simulation
dimension       3               # default

#  Setting boundary types in each dimension (periodic)
boundary        p p p

# Choose potential
pair_style	sw

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes
read_restart /home/jinzhen/projects/SCEMa/examples/test1/nanoscale_output/last.8.g0_1.dump
reset_timestep 0
variable dts equal 0.002000
variable locbe string ./lammps_scripts_sisw/ELASTIC
variable nssample0 equal 100
variable nssample  equal 100
# Compute elastic constant tensor for a crystal
#
# Written by Aidan Thompson (Sandia, athomps@sandia.gov)
#
#  This script uses the following three include files.
#
#   init.mod.lammps      (must be modified for different crystal structures)
# 	       	  Define units, deformation parameters and initial
#		  configuration of the atoms and simulation cell.
#
#
#   potential.mod.lammps    (must be modified for different pair styles)
# 		     Define pair style and other attributes
#		     not stored in restart file
#
#
#   displace.mod.lammps    (displace.mod.lammps should not need to be modified)
# 		    Perform positive and negative box displacements
# 		    in direction ${dir} and size ${up}.
# 		    It uses the resultant changes
#		    in stress to compute one
# 		    row of the elastic stiffness tensor
#
#		    Inputs variables:
#		    	   dir = the Voigt deformation component
#		    		    (1,2,3,4,5,6)
#		    Global constants:
#       	    	   up = the deformation magnitude (strain units)
#       		   cfac = conversion from LAMMPS pressure units to
#               	   output units for elastic constants
#
#
#  To run this on a different system, it should only be necessary to
#  modify the files init.mod and potential.mod. In order to calculate
#  the elastic constants correctly, care must be taken to specify
#  the correct units in init.mod (units, cfac and cunits). It is also
#  important to verify that the minimization of energy w.r.t atom
#  positions in the deformed cell is fully converged.
#  One indication of this is that the elastic constants are insensitive
#  to the choice of the variable ${up} in init.mod. Another is to check
#  the final max and two-norm forces reported in the log file. If you know
#  that minimization is not required, you can set maxiter = 0.0 in
#  init.mod.
#
include ${locbe}/init.mod.lammps
include ./lammps_scripts_sisw/ELASTIC/init.mod.lammps
# NOTE: This script can be modified for different atomic structures,
# units, etc. See in.elastic for more info.
#
# Sampling and strain application number of steps
#variable nssample0 equal 5000000
#variable nssample equal 1
#variable nsstrain equal 1

# Define the finite deformation size. Try several values of this
# variable to verify that results do not depend on it.
#variable up equal 1.0e-2

# Define the amount of random jiggle for atoms
# This prevents atoms from staying on saddle points
#variable atomjiggle equal 1.0e-5

# Uncomment one of these blocks, depending on what units
# you are using in LAMMPS and for output
# metal units, elastic constants in eV/A^3
#units		metal
#variable cfac equal 6.2414e-7
#variable cunits string eV/A^3
# metal units, elastic constants in GPa
#units		metal
#variable cfac equal 1.0e-4
#variable cunits string GPa
# real units, elastic constants in GPa
#units		real
variable cfac equal 1.01325e-4
variable cunits string GPa

variable dir equal 0
variable ori string 'org'

include ${locbe}/potential.mod.lammps
include ./lammps_scripts_sisw/ELASTIC/potential.mod.lammps
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_coeff * * ${locs}/Si.sw Si
